<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>资源导航 - aoaYaoa</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css">
  <style>
    body {
      font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
      background-color: #f8f9fb;
      color: #333;
      margin: 0;
      padding: 0;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    .container {
      max-width: 1280px;
      margin: 0 auto;
      padding: 10px 20px 30px;
    }

    /* 顶部导航样式 */
    .top-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 0;
      margin-bottom: 10px;
      border-bottom: 1px solid rgba(0,0,0,0.05);
    }

    .logo a {
      display: flex;
      align-items: center;
      color: #555;
      font-weight: 600;
      font-size: 1.4rem;
    }

    .logo img {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      margin-right: 10px;
      object-fit: cover;
    }

    .top-menu a {
      margin-left: 18px;
      color: #666;
      font-size: 0.95rem;
      transition: color 0.2s;
    }

    .top-menu a:hover {
      color: #333;
    }

    /* 标题样式 */
    .header {
      text-align: center;
      margin: 20px 0;
    }

    .header h1 {
      font-size: 1.8rem;
      color: #444;
      margin: 0 0 5px 0;
      letter-spacing: 0.01em;
    }

    .header p {
      color: #777;
      margin: 0;
      font-size: 0.95rem;
    }

    /* 分类标签样式 */
    .category-tabs {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      margin: 25px 0;
      position: sticky;
      top: 0;
      z-index: 10;
      background: rgba(248, 249, 251, 0.9);
      backdrop-filter: blur(5px);
      padding: 10px 0;
      border-radius: 10px;
    }

    .category-btn {
      background: #eeeeee;
      border: none;
      padding: 6px 16px;
      margin: 4px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 0.85rem;
      transition: all 0.25s ease;
      color: #555;
      font-weight: 500;
    }

    .category-btn.active {
      background: #555;
      color: white;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    }

    .category-btn:hover:not(.active) {
      background: #e0e0e0;
      transform: translateY(-1px);
    }

    /* 资源卡片网格布局 */
    .resources {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 24px;
      padding: 10px 0;
      max-width: 100%;
      overflow: visible;
    }

    /* 卡片基本样式 */
    .resource-card {
      background: white;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 4px 16px rgba(0,0,0,0.04);
      transition: all 0.35s cubic-bezier(0.165, 0.84, 0.44, 1);
      position: relative;
      display: flex;
      flex-direction: column;
      border: 1px solid rgba(0,0,0,0.03);
      padding: 20px;
      min-height: 160px;
      z-index: 1;
      opacity: 1 !important;
      transform: none !important;
      overflow: visible;
      display: flex !important;
    }

    .resource-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 30px rgba(0,0,0,0.08);
    }

    /* 图标和标题包装容器 */
    .resource-icon-wrapper {
      margin-bottom: 16px;
      display: flex;
      align-items: center;
    }

    /* 图标容器样式 */
    .resource-icon {
      width: 50px;
      height: 50px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 8px 16px rgba(0,0,0,0.1);
      position: relative;
      transition: all 0.4s ease;
      overflow: hidden;
      margin-right: 15px;
    }

    .resource-card:hover .resource-icon {
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 10px 20px rgba(0,0,0,0.15);
    }

    /* 图标内部光效 */
    .resource-icon::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 60%);
    }

    .resource-icon i {
      color: white;
      font-size: 1.6rem;
      position: relative;
      z-index: 2;
    }

    /* 资源标题样式 */
    .resource-title {
      font-size: 1.1rem;
      font-weight: 600;
      color: #333;
      margin: 0;
      display: flex;
      align-items: center;
      line-height: 1.3;
    }

    /* 内容区域样式 */
    .resource-content {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .resource-content p {
      margin: 12px 0 auto;
      color: #666;
      font-size: 0.85rem;
      line-height: 1.6;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    /* 标签样式 */
    .resource-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 14px;
    }

    .resource-tags span {
      background: #f5f5f5;
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 0.7rem;
      color: #666;
      font-weight: 500;
      transition: all 0.3s;
    }

    .resource-card:hover .resource-tags span {
      background: #eee;
    }

    /* 外部链接按钮样式 */
    .resource-link {
      position: absolute;
      top: 18px;
      right: 18px;
      color: #bbb;
      font-size: 0.8rem;
      transition: all 0.3s;
      width: 28px;
      height: 28px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #f8f8f8;
    }

    .resource-card:hover .resource-link {
      color: #555;
      background: #f0f0f0;
      transform: scale(1.1);
    }

    .resource-link:hover {
      background: #555 !important;
      color: white !important;
      transform: scale(1.15) !important;
    }

    /* 页脚样式 */
    .footer {
      text-align: center;
      margin-top: 50px;
      padding-top: 15px;
      border-top: 1px solid rgba(0,0,0,0.05);
      color: #888;
      font-size: 0.85rem;
    }

    /* 加载动画 */
    .spinner {
      width: 40px;
      height: 40px;
      margin: 100px auto;
      border: 4px solid rgba(0, 0, 0, 0.1);
      border-radius: 50%;
      border-top-color: #555;
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    /* 暗黑模式适配 */
    @media (prefers-color-scheme: dark) {
      body {
        background-color: #1a1a1a;
        color: #ddd;
      }

      .top-bar {
        border-bottom-color: rgba(255,255,255,0.05);
      }

      .logo a {
        color: #eee;
      }

      .top-menu a {
        color: #bbb;
      }

      .top-menu a:hover {
        color: #eee;
      }

      .header h1 {
        color: #eee;
      }

      .header p {
        color: #bbb;
      }

      .category-tabs {
        background: rgba(26,26,26,0.9);
      }

      .category-btn {
        background: #333;
        color: #ddd;
      }

      .category-btn.active {
        background: #777;
        color: #fff;
      }

      .category-btn:hover:not(.active) {
        background: #444;
      }

      .resource-card {
        background: #242424;
        border-color: rgba(255,255,255,0.03);
      }

      .resource-title {
        color: #eee;
      }

      .resource-content p {
        color: #aaa;
      }

      .resource-tags span {
        background: #333;
        color: #bbb;
      }

      .resource-card:hover .resource-tags span {
        background: #3a3a3a;
      }

      .resource-link {
        background: #333;
        color: #999;
      }

      .resource-card:hover .resource-link {
        background: #444;
        color: #ccc;
      }

      .footer {
        border-top-color: rgba(255,255,255,0.1);
        color: #777;
      }

      .spinner {
        border-color: rgba(255, 255, 255, 0.1);
        border-top-color: #bbb;
      }
    }

    /* 响应式布局 */
    @media (max-width: 768px) {
      .header h1 {
        font-size: 1.6rem;
      }

      .top-bar {
        flex-direction: column;
        text-align: center;
      }

      .top-menu {
        margin-top: 10px;
      }

      .top-menu a {
        margin: 0 8px;
        font-size: 0.9rem;
      }
    }

    @media (max-width: 480px) {
      .resources {
        grid-template-columns: 1fr;
      }

      .category-tabs {
        overflow-x: auto;
        justify-content: flex-start;
        padding: 10px 5px;
      }

      .category-btn {
        padding: 5px 12px;
        font-size: 0.8rem;
        white-space: nowrap;
      }
    }

    /* 卡片动画效果 */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .resource-card {
      animation: fadeInUp 0.6s ease-out forwards;
      opacity: 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="top-bar">
      <div class="logo">
        <a href="/">
          <img src="/img/avatar.jpg" alt="aoaYaoa">
          <span>aoaYaoa</span>
        </a>
      </div>
      <div class="top-menu">
        <a href="/">首页</a>
        <a href="/posts/">文章</a>
        <a href="/about/">关于</a>
      </div>
    </div>

    <div class="header">
      <h1><i class="fas fa-compass"></i> 资源导航</h1>
      <p>精选优质资源，让开发更高效</p>
    </div>

    <div class="category-tabs" id="category-tabs">
      <!-- 分类按钮将在这里动态生成 -->
      <div class="spinner" id="category-spinner"></div>
    </div>

    <div class="resources" id="resources-container">
      <!-- 资源卡片将在这里动态生成 -->
      <div class="spinner" id="resources-spinner"></div>
    </div>

    <div class="footer">
      <p>© 2023 aoaYaoa | 精心收集和整理的优质资源</p>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const categoryTabsContainer = document.getElementById('category-tabs');
      const resourcesContainer = document.getElementById('resources-container');
      const categorySpinner = document.getElementById('category-spinner');
      const resourcesSpinner = document.getElementById('resources-spinner');

      // 内联完整数据
      const data = {
        "categories": [
          { "id": "all", "name": "全部", "default": true },
          { "id": "extension", "name": "浏览器扩展" },
          { "id": "frontend", "name": "前端开发" },
          { "id": "backend", "name": "后端开发" },
          { "id": "tool", "name": "实用工具" },
          { "id": "design", "name": "设计资源" }
        ],
        "resources": [
          {
            "title": "AdBlock",
            "description": "免费拦截 YouTube 和您喜欢的网站上的广告",
            "category": "extension",
            "tags": ["去广告", "浏览器扩展"],
            "icon": {
              "type": "fas fa-ban",
              "gradient": "linear-gradient(135deg, #e94133, #c41a1a)"
            },
            "url": "https://getadblock.com/zh_CN/"
          },
          {
            "title": "Adblock Plus",
            "description": "在 YouTube 和您浏览的其他网站上去除广告",
            "category": "extension",
            "tags": ["去广告", "浏览器扩展"],
            "icon": {
              "type": "fas fa-shield-alt",
              "gradient": "linear-gradient(135deg, #e33b2e, #c01616)"
            },
            "url": "https://adblockplus.org/zh_CN/"
          },
          {
            "title": "Awesome Screenshot",
            "description": "用于远程工作最佳的屏幕录制、屏幕截图和编辑工具",
            "category": "extension",
            "tags": ["截图", "录屏"],
            "icon": {
              "type": "fas fa-camera",
              "gradient": "linear-gradient(135deg, #2ecc71, #16a349)"
            },
            "url": "https://www.awesomescreenshot.com/"
          },
          {
            "title": "Axure RP Extension",
            "description": "允许在Chrome中查看本地发布的Axure RP原型",
            "category": "extension",
            "tags": ["原型", "设计"],
            "icon": {
              "type": "fas fa-object-group",
              "gradient": "linear-gradient(135deg, #0277bd, #004c8c)"
            },
            "url": "https://chrome.google.com/webstore/detail/axure-rp-extension-for-ch/dogkpdfcklifaemcdfbildhcofnopogp"
          },
          {
            "title": "MDN Web 文档",
            "description": "Mozilla的Web技术权威文档，包含HTML、CSS和JavaScript详细指南",
            "category": "frontend",
            "tags": ["文档", "教程"],
            "icon": {
              "type": "fab fa-html5",
              "gradient": "linear-gradient(135deg, #e44d26, #f16529)"
            },
            "url": "https://developer.mozilla.org/zh-CN/"
          },
          {
            "title": "Vue.js",
            "description": "渐进式JavaScript框架，用于构建用户界面",
            "category": "frontend",
            "tags": ["框架", "前端"],
            "icon": {
              "type": "fab fa-vuejs",
              "gradient": "linear-gradient(135deg, #41b883, #35495e)"
            },
            "url": "https://cn.vuejs.org/"
          },
          {
            "title": "React",
            "description": "用于构建用户界面的JavaScript库",
            "category": "frontend",
            "tags": ["框架", "前端"],
            "icon": {
              "type": "fab fa-react",
              "gradient": "linear-gradient(135deg, #61dafb, #2d91c7)"
            },
            "url": "https://react.dev/"
          },
          {
            "title": "Node.js",
            "description": "基于Chrome V8引擎的JavaScript运行时",
            "category": "backend",
            "tags": ["JavaScript", "服务器"],
            "icon": {
              "type": "fab fa-node-js",
              "gradient": "linear-gradient(135deg, #68a063, #3c873a)"
            },
            "url": "https://nodejs.org/zh-cn/"
          }
        ]
      };

      // 隐藏加载动画
      categorySpinner.style.display = 'none';
      resourcesSpinner.style.display = 'none';

      // 初始化页面
      initPage(data);

      // 初始化页面函数
      function initPage(data) {
        renderCategories(data.categories);
        renderResources(data.resources);
        setupCategoryFilter();
      }

      // 其他函数保持不变
      function renderCategories(categories) {
        categoryTabsContainer.innerHTML = '';
        categories.forEach(category => {
          const button = document.createElement('button');
          button.className = `category-btn ${category.default ? 'active' : ''}`;
          button.setAttribute('data-category', category.id);
          button.textContent = category.name;
          categoryTabsContainer.appendChild(button);
        });
      }

      function renderResources(resources) {
        resourcesContainer.innerHTML = '';

        console.log("正在渲染资源，总数:", resources.length);

        resources.forEach((resource, index) => {
          const card = document.createElement('div');
          card.className = 'resource-card';
          card.setAttribute('data-category', resource.category);
          card.style.animationDelay = `${index * 0.1}s`;

          // 添加ID便于调试
          card.id = `resource-${index}`;

          card.innerHTML = `
            <a class="resource-link" href="${resource.url}" target="_blank" rel="noopener noreferrer">
              <i class="fas fa-external-link-alt"></i>
            </a>
            <div class="resource-icon-wrapper">
              <div class="resource-icon" style="background: ${resource.icon.gradient};">
                <i class="${resource.icon.type}"></i>
              </div>
              <h3 class="resource-title">${resource.title}</h3>
            </div>
            <div class="resource-content">
              <p>${resource.description}</p>
              <div class="resource-tags">
                ${resource.tags.map(tag => `<span>${tag}</span>`).join('')}
              </div>
            </div>
          `;

          resourcesContainer.appendChild(card);
          console.log(`已渲染资源 ${index}: ${resource.title}`);
        });

        // 检查DOM中实际存在的卡片数量
        console.log("DOM中的实际卡片数:", document.querySelectorAll('.resource-card').length);
      }

      function setupCategoryFilter() {
        const filterBtns = document.querySelectorAll('.category-btn');
        const resourceCards = document.querySelectorAll('.resource-card');

        console.log("筛选器中可见的卡片数:", resourceCards.length);

        // 确保所有卡片初始可见
        resourceCards.forEach(card => {
          card.style.display = 'flex';
          card.style.opacity = '1';
          card.style.transform = 'translateY(0)';
        });

        filterBtns.forEach(btn => {
          btn.addEventListener('click', function() {
            // 更新活跃按钮
            filterBtns.forEach(b => b.classList.remove('active'));
            this.classList.add('active');

            // 获取选中的分类
            const selectedCategory = this.getAttribute('data-category');

            // 过滤卡片
            resourceCards.forEach(card => {
              if (selectedCategory === 'all' || card.getAttribute('data-category') === selectedCategory) {
                card.style.display = 'flex';
                setTimeout(() => {
                  card.style.opacity = '1';
                  card.style.transform = 'translateY(0)';
                }, 50);
              } else {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                setTimeout(() => {
                  card.style.display = 'none';
                }, 300);
              }
            });
          });
        });
      }

      // 初始化后延迟检查可见性
      setTimeout(function() {
        const allCards = document.querySelectorAll('.resource-card');
        console.log("延迟检查 - 所有卡片数量:", allCards.length);

        // 确保所有卡片可见
        allCards.forEach((card, i) => {
          card.style.display = 'flex';
          card.style.opacity = '1';
          card.style.transform = 'none';
          console.log(`卡片 ${i} 可见性:`, card.offsetParent !== null);
        });
      }, 2000);
    });
  </script>
</body>
</html>
